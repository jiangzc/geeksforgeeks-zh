<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-x-mtfrom-en"><head><meta http-equiv="X-Translated-By" content="Google"><link href="https://apachecn.github.io/geeksforgeeks-zh/docs/en/net/43.html" hreflang="en" rel="alternate machine-translated-from"><title></title><link href="../../../styles/ebook.css" type="text/css" rel="stylesheet"></head><body><header class="entry-header"><h1 class="entry-title"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x4F7F;&#x7528;Wake-on-LAN&#x534F;&#x8BAE;&#x901A;&#x8FC7;Internet&#x8FDC;&#x7A0B;&#x6253;&#x5F00;PC&#x7684;&#x7A0B;&#x5E8F;&#x3002;</span> </h1></header><!-- .entry-header --><div class="entry-content"><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <a href="https://en.wikipedia.org/wiki/Wake-on-LAN">&#x5C40;&#x57DF;&#x7F51;&#x5524;&#x9192;&#xFF08;WoL&#xFF09;</a>&#x662F;&#x4E00;&#x79CD;&#x4EE5;&#x592A;&#x7F51;&#x6216;&#x4EE4;&#x724C;&#x73AF;&#x8BA1;&#x7B97;&#x673A;&#x7F51;&#x7EDC;&#x6807;&#x51C6;&#xFF0C;&#x5141;&#x8BB8;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x6D88;&#x606F;&#x6253;&#x5F00;&#x6216;&#x5524;&#x9192;&#x8BA1;&#x7B97;&#x673A;&#x3002;</span> </p><ul><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8BE5;&#x6D88;&#x606F;&#x901A;&#x5E38;&#x7531;&#x5728;&#x8FDE;&#x63A5;&#x5230;&#x76F8;&#x540C;&#x5C40;&#x57DF;&#x7F51;&#xFF08;&#x4F8B;&#x5982;&#x667A;&#x80FD;&#x7535;&#x8BDD;&#xFF09;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x6267;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x53D1;&#x9001;&#x5230;&#x76EE;&#x6807;&#x8BA1;&#x7B97;&#x673A;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x5B50;&#x7F51;&#x5B9A;&#x5411;&#x5E7F;&#x64AD;&#x6216;WOL&#x7F51;&#x5173;&#x670D;&#x52A1;&#x4ECE;&#x53E6;&#x4E00;&#x7F51;&#x7EDC;&#x53D1;&#x8D77;&#x6D88;&#x606F;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x7B49;&#x6548;&#x672F;&#x8BED;&#x5305;&#x62EC;WAN&#x5524;&#x9192;&#xFF0C;&#x8FDC;&#x7A0B;&#x5524;&#x9192;&#xFF0C;LAN&#x4E0A;&#x7535;&#xFF0C;LAN&#x4E0A;&#x7535;&#xFF0C;LAN&#x6062;&#x590D;&#xFF0C;LAN&#x6062;&#x590D;&#x548C;LAN&#x5524;&#x9192;&#x7B49;&#x3002;</span> </li></ul><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <strong>&#x5DE5;&#x4F5C;&#x539F;&#x7406;</strong></span> </p><ul><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5C40;&#x57DF;&#x7F51;&#x5524;&#x9192;&#xFF08;&#x201C;WOL&#x201D;&#xFF09;&#x662F;&#x4F7F;&#x7528;&#x4E13;&#x95E8;&#x8BBE;&#x8BA1;&#x7684;&#x79F0;&#x4E3A;&#x9B54;&#x672F;&#x5305;&#x7684;&#x6570;&#x636E;&#x5305;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x8BE5;&#x6570;&#x636E;&#x5305;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x62EC;&#x8981;&#x88AB;&#x5524;&#x9192;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x9B54;&#x672F;&#x5305;&#x5305;&#x542B;&#x76EE;&#x6807;&#x8BA1;&#x7B97;&#x673A;&#x7684;MAC&#x5730;&#x5740;&#xFF0C;&#x5185;&#x7F6E;&#x4E8E;&#x6BCF;&#x4E2A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x5361;&#xFF08;&#x201C;NIC&#x201D;&#xFF09;&#x6216;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x4EE5;&#x592A;&#x7F51;&#x8BBE;&#x5907;&#x7684;&#x6807;&#x8BC6;&#x53F7;&#xFF0C;&#x4F7F;&#x5176;&#x80FD;&#x591F;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x8FDB;&#x884C;&#x552F;&#x4E00;&#x8BC6;&#x522B;&#x548C;&#x5BFB;&#x5740;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5173;&#x95ED;&#x6216;&#x5173;&#x95ED;&#x80FD;&#x591F;&#x8FDB;&#x884C;&#x5C40;&#x57DF;&#x7F51;&#x5524;&#x9192;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x5C06;&#x5305;&#x542B;&#x80FD;&#x591F;&#x5728;&#x7CFB;&#x7EDF;&#x65AD;&#x7535;&#x65F6;&#x4EE5;&#x4F4E;&#x529F;&#x8017;&#x6A21;&#x5F0F;&#x201C;&#x76D1;&#x542C;&#x201D;&#x4F20;&#x5165;&#x6570;&#x636E;&#x5305;&#x7684;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5982;&#x679C;&#x63A5;&#x6536;&#x5230;&#x6307;&#x5411;&#x8BBE;&#x5907;MAC&#x5730;&#x5740;&#x7684;&#x9B54;&#x672F;&#x5305;&#xFF0C;&#x5219;NIC&#x4F1A;&#x5411;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7535;&#x6E90;&#x6216;&#x4E3B;&#x677F;&#x53D1;&#x51FA;&#x4FE1;&#x53F7;&#x4EE5;&#x542F;&#x52A8;&#x7CFB;&#x7EDF;&#x5524;&#x9192;&#xFF0C;&#x8FD9;&#x4E0E;&#x6309;&#x7535;&#x6E90;&#x6309;&#x94AE;&#x7684;&#x65B9;&#x5F0F;&#x975E;&#x5E38;&#x76F8;&#x4F3C;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x9B54;&#x672F;&#x5305;&#x5728;&#x6570;&#x636E;&#x94FE;&#x8DEF;&#x5C42;&#xFF08;OSI&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x7B2C;2&#x5C42;&#xFF09;&#x4E0A;&#x53D1;&#x9001;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x53D1;&#x9001;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x7F51;&#x7EDC;&#x5E7F;&#x64AD;&#x5730;&#x5740;&#x5E7F;&#x64AD;&#x5230;&#x7ED9;&#x5B9A;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x8FDE;&#x63A5;&#x8BBE;&#x5907;;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x4E0D;&#x4F7F;&#x7528;IP&#x5730;&#x5740;&#xFF08;OSI&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x7B2C;3&#x5C42;&#xFF09;&#x3002;</span> </li></ul><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x4E3A;&#x4E86;&#x4F7F;&#x5C40;&#x57DF;&#x7F51;&#x5524;&#x9192;&#x5DE5;&#x4F5C;&#xFF0C;&#x90E8;&#x5206;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x9700;&#x8981;&#x4FDD;&#x6301;&#x5F00;&#x542F;&#x72B6;&#x6001;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8FD9;&#x6D88;&#x8017;&#x5C11;&#x91CF;&#x5907;&#x7528;&#x7535;&#x6E90;&#xFF0C;&#x8FDC;&#x4F4E;&#x4E8E;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x7535;&#x6E90;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x4E0D;&#x9700;&#x8981;&#x65F6;&#x7981;&#x7528;LAN&#x5524;&#x9192;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x8F7B;&#x5FAE;&#x5730;&#x964D;&#x4F4E;&#x5DF2;&#x5173;&#x95ED;&#x4F46;&#x4ECD;&#x63D2;&#x5165;&#x7535;&#x6E90;&#x63D2;&#x5EA7;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x529F;&#x8017;&#x3002;</span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <strong>&#x9B54;&#x672F;&#x5305;&#x7ED3;&#x6784;</strong></span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x9B54;&#x672F;&#x5305;&#x662F;&#x4E00;&#x4E2A;&#x5E7F;&#x64AD;&#x5E27;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x6240;&#x6709;255&#x4E2A;&#x5B57;&#x8282;&#x4E2D;&#x7684;6&#x4E2A;&#x5B57;&#x8282;&#xFF08;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x7684;FF FF FF FF FF FF&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x662F;&#x76EE;&#x6807;&#x8BA1;&#x7B97;&#x673A;&#x7684;48&#x4F4D;MAC&#x5730;&#x5740;&#x7684;16&#x4E2A;&#x91CD;&#x590D;&#xFF0C;&#x603B;&#x5171;102&#x4E2A;&#x5B57;&#x8282;&#x3002;</span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x7531;&#x4E8E;&#x9B54;&#x672F;&#x6570;&#x636E;&#x5305;&#x4EC5;&#x626B;&#x63CF;&#x4E0A;&#x9762;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x4E14;&#x5B9E;&#x9645;&#x4E0A;&#x6CA1;&#x6709;&#x88AB;&#x5B8C;&#x6574;&#x7684;&#x534F;&#x8BAE;&#x6808;&#x89E3;&#x6790;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x4EFB;&#x4F55;&#x7F51;&#x7EDC;&#x548C;&#x4F20;&#x8F93;&#x5C42;&#x534F;&#x8BAE;&#x53D1;&#x9001;&#xFF0C;&#x5C3D;&#x7BA1;&#x5B83;&#x901A;&#x5E38;&#x4F5C;&#x4E3A;UDP&#x6570;&#x636E;&#x62A5;&#x53D1;&#x9001;&#x5230;&#x7AEF;&#x53E3;0,7&#x6216;9&#xFF0C;&#x6216;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x4EE5;&#x592A;&#x7F51;&#x4F5C;&#x4E3A;EtherType 0x0842&#x3002;</span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <strong>&#x6807;&#x51C6;&#x9B54;&#x672F;&#x5305;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x57FA;&#x672C;&#x9650;&#x5236;&#xFF1A;</strong></span> </p><br><!-- post_top_responsive --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9465609616171866" data-ad-slot="4501693235" data-ad-format="auto"></ins><br><ol><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x9700;&#x8981;&#x76EE;&#x6807;&#x8BA1;&#x7B97;&#x673A;MAC&#x5730;&#x5740;&#xFF08;&#x4E5F;&#x53EF;&#x80FD;&#x9700;&#x8981;SecureOn&#x5BC6;&#x7801;&#xFF09;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x4E0D;&#x63D0;&#x4F9B;&#x9001;&#x8D27;&#x786E;&#x8BA4;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x5728;&#x672C;&#x5730;&#x7F51;&#x7EDC;&#x4E4B;&#x5916;&#x5DE5;&#x4F5C;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x9700;&#x8981;&#x76EE;&#x6807;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x7684;LAN&#x5524;&#x9192;&#x7684;&#x786C;&#x4EF6;&#x652F;&#x6301;&#x3002;</span> </li><li> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5927;&#x591A;&#x6570;802.11&#x65E0;&#x7EBF;&#x63A5;&#x53E3;&#x5728;&#x4F4E;&#x529F;&#x8017;&#x72B6;&#x6001;&#x4E0B;&#x4E0D;&#x4FDD;&#x6301;&#x94FE;&#x8DEF;&#xFF0C;&#x5E76;&#x4E14;&#x65E0;&#x6CD5;&#x63A5;&#x6536;&#x9B54;&#x672F;&#x6570;&#x636E;&#x5305;&#x3002;</span> </li></ol><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5C40;&#x57DF;&#x7F51;&#x5524;&#x9192;&#x5B9E;&#x73B0;&#x8BBE;&#x8BA1;&#x5F97;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x5361;&#x4E0A;&#x7684;&#x7535;&#x8DEF;&#x5FEB;&#x901F;&#x5904;&#x7406;&#xFF0C;&#x5E76;&#x4E14;&#x529F;&#x8017;&#x8981;&#x6C42;&#x6700;&#x4F4E;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x7531;&#x4E8E;&#x5C40;&#x57DF;&#x7F51;&#x5524;&#x9192;&#x5728;IP&#x534F;&#x8BAE;&#x5C42;&#x4E0B;&#x8FD0;&#x884C;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;MAC&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x4F7F;IP&#x5730;&#x5740;&#x548C;DNS&#x540D;&#x79F0;&#x65E0;&#x610F;&#x4E49;&#x3002;</span> </p>
<pre class="brush: cpp; title: ; notranslate" title="">// C program to remotely Power On a PC over the
// internet using the Wake-on-LAN protocol.
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/types.h&gt;

int main()
{
    int i;
    unsigned char toSend[102],mac[6];
    struct sockaddr_in udpClient, udpServer;
    int broadcast = 1 ;

    // UDP Socket creation
    int udpSocket = socket(AF_INET, SOCK_DGRAM, 0);

    // Manipulating the Socket
    if (setsockopt(udpSocket, SOL_SOCKET, SO_BROADCAST,
                  &amp;broadcast, sizeof broadcast) == -1)
    {
        perror(&quot;setsockopt (SO_BROADCAST)&quot;);
        exit(EXIT_FAILURE);
    }
    udpClient.sin_family = AF_INET;
    udpClient.sin_addr.s_addr = INADDR_ANY;
    udpClient.sin_port = 0;

    //Binding the socket
    bind(udpSocket, (struct sockaddr*)&amp;udpClient, sizeof(udpClient));

    for (i=0; i&lt;6; i++)
        toSend[i] = 0xFF;

    // Let the MAC Address be ab:cd:ef:gh:ij:kl
    mac[0] = 0xab;  // 1st octet of the MAC Address
    mac[1] = 0xcd;  // 2nd octet of the MAC Address
    mac[2] = 0xef;  // 3rd octet of the MAC Address
    mac[3] = 0xgh;  // 4th octet of the MAC Address
    mac[4] = 0xij;  // 5th octet of the MAC Address
    mac[5] = 0xkl;  // 6th octet of the MAC Address

    for (i=1; i&lt;=16; i++)
        memcpy(&amp;toSend[i*6], &amp;mac, 6*sizeof(unsigned char));

    udpServer.sin_family = AF_INET;

    // Braodcast address
    udpServer.sin_addr.s_addr = inet_addr(&quot;10.89.255.255&quot;);
    udpServer.sin_port = htons(9);

    sendto(udpSocket, &amp;toSend, sizeof(unsigned char) * 102, 0,
             (struct sockaddr*)&amp;udpServer, sizeof(udpServer));
    return 0;
}
</pre><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8F93;&#x51FA;&#xFF1A;</span> </p><pre> <span class="pre-span" style="direction: ltr; text-align: left">This program will power on the switched-off PC</span>
<span class="pre-span" style="direction: ltr; text-align: left">whose MAC Address is used in this program (the</span> 
<span class="pre-span" style="direction: ltr; text-align: left">PC and the Host computer must be connected over</span>
<span class="pre-span" style="direction: ltr; text-align: left">LAN).</span> 
</pre><p><!-- To show list of companies where this problem is asked. Please remove if doesn't fit.    --></p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <strong>&#x53C2;&#x8003;&#xFF1A;</strong></span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <a href="https://en.wikipedia.org/wiki/Wake-on-LAN">https://en.wikipedia.org/wiki/Wake-on-LAN</a></span> </p><br><!-- post_bottom_responsive --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9465609616171866" data-ad-slot="8385097921" data-ad-format="auto"></ins><br><br><!-- .entry-meta --></div></body></html>