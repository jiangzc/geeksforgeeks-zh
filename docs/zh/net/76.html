<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-x-mtfrom-en"><head><meta http-equiv="X-Translated-By" content="Google"><link href="https://apachecn.github.io/geeksforgeeks-zh/docs/en/net/76.html" hreflang="en" rel="alternate machine-translated-from"><title></title><link href="../../../styles/ebook.css" type="text/css" rel="stylesheet"></head><body><header class="entry-header"><h1 class="entry-title"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5149;&#x7F51;&#x7EDC;&#x7684;&#x6982;&#x7387;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x8DEF;&#x7531;&#x7B97;&#x6CD5;</span> </h1></header><!-- .entry-header --><div class="entry-content"><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5728;&#x7F51;&#x7EDC;&#x548C;&#x8DEF;&#x7531;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x64CD;&#x4F5C;&#x662F;&#x4E00;&#x4E2A;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x7684;&#x65B9;&#x9762;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x56E0;&#x6B64;&#xFF0C;&#x5FC5;&#x987B;&#x4EE5;&#x6700;&#x4F4E;&#x7684;&#x786C;&#x4EF6;&#x6210;&#x672C;&#xFF08;&#x5149;&#x7F06;&#xFF0C;WDM&#x7F51;&#x7EDC;&#x7EC4;&#x4EF6;&#xFF0C;&#x89E3;&#x7801;&#x5668;&#xFF0C;&#x591A;&#x8DEF;&#x590D;&#x7528;&#x5668;&#xFF09;&#x4EE5;&#x53CA;&#x5C3D;&#x53EF;&#x80FD;&#x77ED;&#x7684;&#x65F6;&#x95F4;&#x8FDB;&#x884C;&#x9AD8;&#x6548;&#x7684;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x64CD;&#x4F5C;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x56E0;&#x6B64;&#xFF0C;&#x9700;&#x8981;&#x63D0;&#x51FA;&#x4E00;&#x79CD;&#x7B97;&#x6CD5;&#xFF0C;&#x8BE5;&#x7B97;&#x6CD5;&#x627E;&#x5230;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#xFF08;&#x6E90;&#x8282;&#x70B9;&#x548C;&#x76EE;&#x7684;&#x8282;&#x70B9;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x3002;</span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E2A;&#x5168;&#x65B0;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x4E0D;&#x540C;&#x4E8E;Dijkstra&#x7684;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x6216;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x5BFB;&#x627E;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x7684;&#x7B97;&#x6CD5;&#x3002;</span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x56FE;&#x5F62;&#x548C;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#xFF08;&#x6E90;&#x8282;&#x70B9;&#x548C;&#x76EE;&#x6807;&#x8282;&#x70B9;&#xFF09;&#xFF0C;&#x627E;&#x5230;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x3002;</span> <br><img src="../../../imgs/net/99b6501155143b994b8993c8669aa4ae.jpg" alt="" width="335" height="248" class="aligncenter size-full wp-image-413482"></p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8BA9;&#x6211;&#x4EEC;&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;&#x94FE;&#x63A5;&#x7684;&#x8DDD;&#x79BB;&#x6BD4;&#x7387;&#xFF1A;</span> </p><blockquote><p><span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x94FE;&#x8DEF;AB&#x7684;&#x8DDD;&#x79BB;[&#x7531;<code>d(AB)</code>&#x8868;&#x793A;] = 10</span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x94FE;&#x8DEF;AC&#x7684;&#x8DDD;&#x79BB;[&#x7531;<code>d(AC)</code>&#x8868;&#x793A;] = 12</span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5BF9;&#x4E8E;&#x94FE;&#x8DEF;<strong>AB</strong> &#xFF0C;&#x8DDD;&#x79BB;&#x6BD4;AB = d&#xFF08;AB&#xFF09;/&#xFF08;d&#xFF08;AB&#xFF09;+ d&#xFF08;AC&#xFF09;&#xFF09;</span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5BF9;&#x4E8E;&#x94FE;&#x8DEF;<strong>AC</strong> &#xFF0C; <strong>AC&#x7684;</strong>&#x8DDD;&#x79BB;&#x6BD4;= d&#xFF08;AC&#xFF09;/&#xFF08;d&#xFF08;AB&#xFF09;+ d&#xFF08;AC&#xFF09;&#xFF09;</span> </p></blockquote><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <strong>&#x7B97;&#x6CD5;&#xFF1A;</strong></span> </p><pre> <span class="pre-span" style="direction: ltr; text-align: left">Given a graph and two nodes -</span>

<span class="pre-span" style="direction: ltr; text-align: left">1. Find all the paths connecting the two nodes.</span>
<span class="pre-span" style="direction: ltr; text-align: left">2. For each path calculate probability = (Distance Ratio).</span> 
<span class="pre-span" style="direction: ltr; text-align: left">3. After looping over all such paths, find the path for</span>
   <span class="pre-span" style="direction: ltr; text-align: left">which the probability turns out to be minimum.</span> </pre><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x4F8B;&#x5B50; &#xFF1A;</span> </p><pre> <span class="pre-span" style="direction: ltr; text-align: left"><strong>Input :</strong></span> <img src="../../../imgs/net/9a3d14b4b9f743ee62dd9510337978b7.jpg" alt="" width="448" height="296" class="aligncenter size-full wp-image-413490">

<span class="pre-span" style="direction: ltr; text-align: left"><strong>Output :</strong> Shortest Path is [A -&gt; B]</span>


<span class="pre-span" style="direction: ltr; text-align: left"><strong>Explanation :</strong></span>
<span class="pre-span" style="direction: ltr; text-align: left">All possible paths are</span>
<span class="pre-span" style="direction: ltr; text-align: left">P1 = [A-&gt;B]</span>
<span class="pre-span" style="direction: ltr; text-align: left">P2 = [A-&gt;C-&gt;B]</span>
<span class="pre-span" style="direction: ltr; text-align: left">P3 = [A-&gt;D-&gt;B]</span> 

<span class="pre-span" style="direction: ltr; text-align: left">total distance D = d(P1) + d(P2) + d(P3)</span> 
                 <span class="pre-span" style="direction: ltr; text-align: left">= (3) + (2 + 5) + (4 + 3)</span>
                 <span class="pre-span" style="direction: ltr; text-align: left">= 17</span>

<span class="pre-span" style="direction: ltr; text-align: left">distance ratio for P1 = d(P1) / D = 3/17</span>
<span class="pre-span" style="direction: ltr; text-align: left">distance ratio for P2 = d(P2) / D = 7/17</span>
<span class="pre-span" style="direction: ltr; text-align: left">distance ratio for P3 = d(P3) / D = 7/17</span>

<span class="pre-span" style="direction: ltr; text-align: left">So the shortest path is P1 = [A-&gt;B]</span>

<br>

<span class="pre-span" style="direction: ltr; text-align: left"><strong>Input :</strong></span> <img src="../../../imgs/net/221cbc68e055ceef70d84938183154ae.jpg" alt="" width="448" height="322" class="aligncenter size-full wp-image-413497">

<span class="pre-span" style="direction: ltr; text-align: left"><strong>Output :</strong> Shortest Path is [A -&gt; B]</span> </pre><p></p><p><!-- To show strongly recommend and practice link    --></p><div id="practiceLinkDiv"><h2 class="sigil_not_in_toc"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <a href="https://ide.geeksforgeeks.org/">&#x5EFA;&#x8BAE;&#xFF1A;&#x5728;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x5148;&#x5728;<b><i><u>{IDE}</u></i></b>&#x4E0A;&#x5C1D;&#x8BD5;&#x60A8;&#x7684;&#x65B9;&#x6CD5;&#x3002;</a></span> </h2></div><br><!-- post_top_responsive --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9465609616171866" data-ad-slot="4501693235" data-ad-format="auto"></ins><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8BA9;&#x6211;&#x4EEC;&#x7528;7&#x8282;&#x70B9;&#x7F51;&#x7EDC;&#x8BF4;&#x660E;&#x7B97;&#x6CD5;&#xFF0C;&#x627E;&#x51FA;<code>node 1</code>&#x548C;<code>node 5</code>&#x4E4B;&#x95F4;&#x7684;&#x6982;&#x7387;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x3002;</span> </p><p><img src="../../../imgs/net/62c588616cf050f55cc9c607f5c307bc.jpg" alt="" width="437" height="343" class="aligncenter size-full wp-image-413504"></p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x4EE5;&#x4E0B;&#x662F;&#x5B9E;&#x65BD;&#xFF1A;</span> </p><pre class="brush: python3; highlight: [90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]; title: ; notranslate" title=""># Python program to find Probabilistic
# shortest path routing algorithm for
# optical networks

# importing random module
import random

# Number of nodes
NODES = 7 

# very small invalid 
# when no link exists
INVALID = 0.001  


distance_links = [[INVALID for i in range(NODES)]
                           for j in range(NODES)]
# distance of each link                           
distance_links[0][1] = 7
distance_links[1][0] = 7
distance_links[1][2] = 8
distance_links[2][1] = 8
distance_links[0][2] = 9
distance_links[2][0] = 9
distance_links[3][0] = 9
distance_links[0][3] = 9
distance_links[4][3] = 4
distance_links[3][4] = 4
distance_links[5][4] = 6
distance_links[4][5] = 6
distance_links[5][2] = 4
distance_links[2][5] = 4
distance_links[4][6] = 8
distance_links[6][4] = 8
distance_links[0][6] = 5
distance_links[6][0] = 5



# Finds next node from current node
def next_node(s): 
    nxt = []
    
    for i in range(NODES):
        if(distance_links[s][i] != INVALID):
            nxt.append(i)
    return nxt

# Find simple paths for each
def find_simple_paths(start, end):
    visited = set()
    visited.add(start)

    nodestack = list()
    indexstack = list()
    current = start
    i = 0

    while True:
        
        # get a list of the neighbors
        # of the current node
        neighbors = next_node(current)

        # Find the next unvisited neighbor
        # of this node, if any
        while i &lt; len(neighbors) and neighbors[i] in visited: 
            i += 1

        if i &gt;= len(neighbors):
            visited.remove(current)
            
            if len(nodestack) &lt; 1: 
                break
                
            current = nodestack.pop()
            i = indexstack.pop()
            
        elif neighbors[i] == end:
            yield nodestack + [current, end]
            i += 1
            
        else:
            nodestack.append(current)
            indexstack.append(i + 1)
            visited.add(neighbors[i])
            current = neighbors[i]
            i = 0

# Find the shortest path
def solution(sour, dest):

    block = 0
    l = []
    for path in find_simple_paths(sour, dest): 
        l.append(path)     

    k = 0
    for i in range(len(l)):
        su = 0
        for j in range(1, len(l[i])):
            su += (distance_links[l[i][j-1]]
                                 [l[i][j]])
        k += su
        
    # print k 
    dist_prob = []
    probability = []

    for i in range(len(l)):
        s, su = 0, 0
    
        for j in range(1, len(l[i])):     
                
            su += (distance_links[l[i][j-1]]
                                 [l[i][j]])
                                 
        dist_prob.append(su/(1.0 * k))
        
    
    for m in range(len(dist_prob)):
        z = (dist_prob[m])
        probability.append(z)

    for i in range(len(probability)):
        if(probability[i] == min(probability)):

            z = l[i]
            print(&quot;Shortest Path is&quot;, end = &quot; &quot;)
            print(z)
            
# Driver Code
if __name__ == &apos;__main__&apos; :
    source, dest = 1, 5
    
    # Calling the solution function
    solution(source, dest) 

</pre><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8F93;&#x51FA;&#xFF1A;</span> </p><pre> <span class="pre-span" style="direction: ltr; text-align: left">Shortest Path is [1, 2, 5]</span> </pre><p><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <strong>&#x4F18;&#x4E8E;&#x5E38;&#x89C1;&#x7684;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x7B97;&#x6CD5;&#xFF1A;</strong></span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5927;&#x591A;&#x6570;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x7B97;&#x6CD5;&#x90FD;&#x662F;&#x8D2A;&#x5FC3;&#x7B97;&#x6CD5;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x56E0;&#x6B64;&#xFF0C;&#x5B83;&#x57FA;&#x4E8E;&#x6700;&#x4F73;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5BFC;&#x81F4;&#x5168;&#x5C40;&#x6700;&#x4F18;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x7684;&#x4E8B;&#x5B9E;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7531;&#x4E8E;&#x8D2A;&#x5A6A;&#x7684;&#x8D22;&#x4EA7;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x5E76;&#x4E0D;&#x603B;&#x662F;&#x5BFC;&#x81F4;&#x6700;&#x4F73;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x4F46;&#x662F;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x7B97;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x59CB;&#x7EC8;&#x4FDD;&#x8BC1;&#x6700;&#x4F73;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x56E0;&#x6B64;&#x7CBE;&#x5EA6;&#x4E3A;100&#xFF05;&#x3002;</span> </p><br><!-- post_bottom_responsive --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9465609616171866" data-ad-slot="8385097921" data-ad-format="auto"></ins><br><br><hr><hr><!-- .entry-meta --></div></body></html>