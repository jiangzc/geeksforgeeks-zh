<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-x-mtfrom-en"><head><meta http-equiv="X-Translated-By" content="Google"><link href="https://apachecn.github.io/geeksforgeeks-zh/docs/en/os/28.html" hreflang="en" rel="alternate machine-translated-from"><title></title><link href="../../../styles/ebook.css" type="text/css" rel="stylesheet"></head><body><header class="entry-header"><h1 class="entry-title"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x6700;&#x77ED;&#x4F5C;&#x4E1A;&#x4F18;&#x5148;&#x8BA1;&#x5212;&#xFF08;SJF&#xFF09;&#x8C03;&#x5EA6;|</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x7B2C;2&#x7EC4;&#xFF08;&#x62A2;&#x5360;&#x5F0F;&#xFF09;</span> </h1></header><!-- .entry-header --><div class="entry-content"><p><!-- Problem Statement --><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5728;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BA8;&#x8BBA;&#x4E86;SJF&#x7684;&#x7B2C;<a href="https://www.geeksforgeeks.org/program-shortest-job-first-sjf-scheduling-set-1-non-preemptive/">1&#x7EC4;</a> &#xFF0C;&#x5373;&#x975E;&#x62A2;&#x5360;&#x5F0F;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5728;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x8BA8;&#x8BBA;SJF&#x7684;&#x62A2;&#x5148;&#x7248;&#x672C;&#xFF0C;&#x79F0;&#x4E3A;&#x6700;&#x77ED;&#x5269;&#x4F59;&#x65F6;&#x95F4;&#x4F18;&#x5148;&#xFF08;SRTF&#xFF09;&#x3002;</span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5728;&#x8BE5;&#x8C03;&#x5EA6;&#x7B97;&#x6CD5;&#x4E2D;&#xFF0C;&#x9009;&#x62E9;&#x6267;&#x884C;&#x5177;&#x6709;&#x6700;&#x5C0F;&#x5269;&#x4F59;&#x65F6;&#x95F4;&#x76F4;&#x5230;&#x5B8C;&#x6210;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x7531;&#x4E8E;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x662F;&#x6309;&#x5B9A;&#x4E49;&#x5269;&#x4F59;&#x6700;&#x77ED;&#x65F6;&#x95F4;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x4E14;&#x7531;&#x4E8E;&#x8BE5;&#x65F6;&#x95F4;&#x5E94;&#x8BE5;&#x4EC5;&#x5728;&#x6267;&#x884C;&#x8FDB;&#x884C;&#x65F6;&#x51CF;&#x5C11;&#xFF0C;&#x56E0;&#x6B64;&#x8FDB;&#x7A0B;&#x5C06;&#x4E00;&#x76F4;&#x8FD0;&#x884C;&#x76F4;&#x5230;&#x5B83;&#x4EEC;&#x5B8C;&#x6210;&#x6216;&#x6DFB;&#x52A0;&#x9700;&#x8981;&#x8F83;&#x5C11;&#x65F6;&#x95F4;&#x7684;&#x65B0;&#x8FDB;&#x7A0B;&#x3002;</span> </p><h3 class="sigil_not_in_toc"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5148;&#x53D1;&#x5236;&#x4EBA;&#x7684;SJF&#xFF1A;&#x4F8B;&#x5B50;</span> </h3><table width="100%" style="table-layout:fixed;"><thead><tr><th style="padding:8px;background-color:#4CB96B;text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5904;&#x7406;</span> </th><th style="padding:8px;background-color:#4CB96B;text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x6301;&#x7EED;&#x65F6;&#x95F4;</span> </th><th style="padding:8px;background-color:#4CB96B;text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8BA2;&#x8D2D;</span> </th><th style="padding:8px;background-color:#4CB96B;text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5230;&#x8FBE;&#x65F6;&#x95F4;</span> </th></tr></thead><tbody><tr><td style="text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> P1</span> </td><td style="text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 9</span> </td><td style="text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 1</span> </td><td style="text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 0</span> </td></tr><tr><td style="background-color:rgba(183,223,182,0.4);text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> P2</span> </td><td style="background-color:rgba(183,223,182,0.4);text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 2</span> </td><td style="background-color:rgba(183,223,182,0.4);text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 2</span> </td><td style="background-color:rgba(183,223,182,0.4);text-align:center;"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 2</span> </td></tr></tbody></table><p><img src="../../../imgs/os/892ef76ac132e69ac3823613714ec961.jpg" alt="&#x62A2;&#x5360;-SJF-&#x56FE;" width="595" height="446" class="aligncenter size-full wp-image-198028"></p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <b>P1&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF1A;4-2 = 2</b></span> <b><br></b> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <b>P2&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF1A;0</b></span> <b><br></b> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <b>&#x5E73;&#x5747;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF08;AWT&#xFF09;:( 0 + 2&#xFF09;/ 2 = 1</b></span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <b>&#x4F18;&#x70B9;&#xFF1A;</b></span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 1-&#x975E;&#x5E38;&#x5FEB;&#x901F;&#x5730;&#x5904;&#x7406;&#x77ED;&#x6D41;&#x7A0B;&#x3002;</span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 2-&#x7CFB;&#x7EDF;&#x4E5F;&#x9700;&#x8981;&#x5F88;&#x5C11;&#x7684;&#x5F00;&#x9500;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x53EA;&#x5728;&#x6D41;&#x7A0B;&#x5B8C;&#x6210;&#x6216;&#x6DFB;&#x52A0;&#x65B0;&#x6D41;&#x7A0B;&#x65F6;&#x505A;&#x51FA;&#x51B3;&#x5B9A;&#x3002;</span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 3-&#x6DFB;&#x52A0;&#x65B0;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x7B97;&#x6CD5;&#x53EA;&#x9700;&#x8981;&#x5C06;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x4E0E;&#x65B0;&#x8FDB;&#x7A0B;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x5FFD;&#x7565;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x3002;</span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <b>&#x574F;&#x5904;&#xFF1A;</b></span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> 1-&#x50CF;&#x6700;&#x77ED;&#x7684;&#x5DE5;&#x4F5C;&#x4E00;&#x6837;&#xFF0C;&#x5B83;&#x6709;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x8FC7;&#x7A0B;&#x9965;&#x997F;&#x3002;</span> <br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x5982;&#x679C;&#x4E0D;&#x65AD;&#x6DFB;&#x52A0;&#x77ED;&#x6D41;&#x7A0B;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x65E0;&#x9650;&#x671F;&#x5730;&#x5EF6;&#x957F;&#x957F;&#x6D41;&#x7A0B;&#x3002;</span> </p><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x6765;&#x6E90;&#xFF1A; <a href="https://en.wikipedia.org/wiki/Shortest_remaining_time">&#x7EF4;&#x57FA;</a></span> </p><p><!-- To show strongly recommend and practice link    --></p><div id="practiceLinkDiv"><h2 class="sigil_not_in_toc"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> <a href="https://ide.geeksforgeeks.org/">&#x5EFA;&#x8BAE;&#xFF1A;&#x5728;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x5148;&#x5728;<b><i><u>{IDE}</u></i></b>&#x4E0A;&#x5C1D;&#x8BD5;&#x60A8;&#x7684;&#x65B9;&#x6CD5;&#x3002;</a></span> </h2></div><br><!-- post_top_responsive --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9465609616171866" data-ad-slot="4501693235" data-ad-format="auto"></ins><br><pre> <span class="pre-span" style="direction: ltr; text-align: left"><b>Implementation:</b></span>
<span class="pre-span" style="direction: ltr; text-align: left">1- Traverse until all process gets completely</span>
   <span class="pre-span" style="direction: ltr; text-align: left">executed.</span>
   <span class="pre-span" style="direction: ltr; text-align: left">a) Find process with minimum remaining time at</span>
     <span class="pre-span" style="direction: ltr; text-align: left">every single time lap.</span>
   <span class="pre-span" style="direction: ltr; text-align: left">b) Reduce its time by 1.</span>
   <span class="pre-span" style="direction: ltr; text-align: left">c) Check if its remaining time becomes 0</span> 
   <span class="pre-span" style="direction: ltr; text-align: left">d) Increment the counter of process completion.</span>
   <span class="pre-span" style="direction: ltr; text-align: left">e) Completion time of current process =</span> 
     <span class="pre-span" style="direction: ltr; text-align: left">current_time +1;</span>
   <span class="pre-span" style="direction: ltr; text-align: left">e) Calculate waiting time for each completed</span> 
     <span class="pre-span" style="direction: ltr; text-align: left">process.</span>
   <span class="pre-span" style="direction: ltr; text-align: left">wt[i]= Completion time - arrival_time-burst_time</span>
   <span class="pre-span" style="direction: ltr; text-align: left">f)Increment time lap by one.</span>
<span class="pre-span" style="direction: ltr; text-align: left">2- Find turnaround time (waiting_time+burst_time).</span>
</pre><div class="responsive-tabs"><h2 class="tabtitle sigil_not_in_toc"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> C / C ++</span> </h2><div class="tabcontent">

<pre class="brush: cpp; highlight: [12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126]; title: ; notranslate" title="">// C++ program to implement Shortest Remaining
// Time First
#include &lt;bits/stdc++.h&gt;
using namespace std;

struct Process {
    int pid; // Process ID
    int bt; // Burst Time
    int art; // Arrival Time
};

// Function to find the waiting time for all
// processes
void findWaitingTime(Process proc[], int n,
                                int wt[])
{
    int rt[n];

    // Copy the burst time into rt[]
    for (int i = 0; i &lt; n; i++)
        rt[i] = proc[i].bt;

    int complete = 0, t = 0, minm = INT_MAX;
    int shortest = 0, finish_time;
    bool check = false;

    // Process until all processes gets
    // completed
    while (complete != n) {

        // Find process with minimum
        // remaining time among the
        // processes that arrives till the
        // current time`
        for (int j = 0; j &lt; n; j++) {
            if ((proc[j].art &lt;= t) &amp;&amp;
            (rt[j] &lt; minm) &amp;&amp; rt[j] &gt; 0) {
                minm = rt[j];
                shortest = j;
                check = true;
            }
        }

        if (check == false) {
            t++;
            continue;
        }

        // Reduce remaining time by one
        rt[shortest]--;

        // Update minimum
        minm = rt[shortest];
        if (minm == 0)
            minm = INT_MAX;

        // If a process gets completely
        // executed
        if (rt[shortest] == 0) {

            // Increment complete
            complete++;

            // Find finish time of current
            // process
            finish_time = t + 1;

            // Calculate waiting time
            wt[shortest] = finish_time -
                        proc[shortest].bt -
                        proc[shortest].art;

            if (wt[shortest] &lt; 0)
                wt[shortest] = 0;
        }
        // Increment time
        t++;
    }
}

// Function to calculate turn around time
void findTurnAroundTime(Process proc[], int n,
                        int wt[], int tat[])
{
    // calculating turnaround time by adding
    // bt[i] + wt[i]
    for (int i = 0; i &lt; n; i++)
        tat[i] = proc[i].bt + wt[i];
}

// Function to calculate average time
void findavgTime(Process proc[], int n)
{
    int wt[n], tat[n], total_wt = 0,
                    total_tat = 0;

    // Function to find waiting time of all
    // processes
    findWaitingTime(proc, n, wt);

    // Function to find turn around time for
    // all processes
    findTurnAroundTime(proc, n, wt, tat);

    // Display processes along with all
    // details
    cout &lt;&lt; &quot;Processes &quot;
        &lt;&lt; &quot; Burst time &quot;
        &lt;&lt; &quot; Waiting time &quot;
        &lt;&lt; &quot; Turn around time\n&quot;;

    // Calculate total waiting time and
    // total turnaround time
    for (int i = 0; i &lt; n; i++) {
        total_wt = total_wt + wt[i];
        total_tat = total_tat + tat[i];
        cout &lt;&lt; &quot; &quot; &lt;&lt; proc[i].pid &lt;&lt; &quot;\t\t&quot;
            &lt;&lt; proc[i].bt &lt;&lt; &quot;\t\t &quot; &lt;&lt; wt[i]
            &lt;&lt; &quot;\t\t &quot; &lt;&lt; tat[i] &lt;&lt; endl;
    }

    cout &lt;&lt; &quot;\nAverage waiting time = &quot;
        &lt;&lt; (float)total_wt / (float)n;
    cout &lt;&lt; &quot;\nAverage turn around time = &quot;
        &lt;&lt; (float)total_tat / (float)n;
}

// Driver code
int main()
{
    Process proc[] = { { 1, 6, 1 }, { 2, 8, 1 },
                    { 3, 7, 2 }, { 4, 3, 3 } };
    int n = sizeof(proc) / sizeof(proc[0]);

    findavgTime(proc, n);
    return 0;
}
</pre></div><h2 class="tabtitle sigil_not_in_toc"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"> Java&#x7684;</span> </h2><div class="tabcontent"><pre class="brush: java; highlight: [20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135]; title: ; notranslate" title="">// Java program to implement Shortest Remaining
// Time First

class Process
{
    int pid; // Process ID
    int bt; // Burst Time
    int art; // Arrival Time
    
    public Process(int pid, int bt, int art)
    {
        this.pid = pid;
        this.bt = bt;
        this.art = art;
    }
}

public class GFG 
{
    // Method to find the waiting time for all
    // processes
    static void findWaitingTime(Process proc[], int n,
                                     int wt[])
    {
        int rt[] = new int[n];
     
        // Copy the burst time into rt[]
        for (int i = 0; i &lt; n; i++)
            rt[i] = proc[i].bt;
     
        int complete = 0, t = 0, minm = Integer.MAX_VALUE;
        int shortest = 0, finish_time;
        boolean check = false;
     
        // Process until all processes gets
        // completed
        while (complete != n) {
     
            // Find process with minimum
            // remaining time among the
            // processes that arrives till the
            // current time`
            for (int j = 0; j &lt; n; j++) 
            {
                if ((proc[j].art &lt;= t) &amp;&amp;
                  (rt[j] &lt; minm) &amp;&amp; rt[j] &gt; 0) {
                    minm = rt[j];
                    shortest = j;
                    check = true;
                }
            }
     
            if (check == false) {
                t++;
                continue;
            }
     
            // Reduce remaining time by one
            rt[shortest]--;
     
            // Update minimum
            minm = rt[shortest];
            if (minm == 0)
                minm = Integer.MAX_VALUE;
     
            // If a process gets completely
            // executed
            if (rt[shortest] == 0) {
     
                // Increment complete
                complete++;
     
                // Find finish time of current
                // process
                finish_time = t + 1;
     
                // Calculate waiting time
                wt[shortest] = finish_time -
                             proc[shortest].bt -
                             proc[shortest].art;
     
                if (wt[shortest] &lt; 0)
                    wt[shortest] = 0;
            }
            // Increment time
            t++;
        }
    }
     
    // Method to calculate turn around time
    static void findTurnAroundTime(Process proc[], int n,
                            int wt[], int tat[])
    {
        // calculating turnaround time by adding
        // bt[i] + wt[i]
        for (int i = 0; i &lt; n; i++)
            tat[i] = proc[i].bt + wt[i];
    }
     
    // Method to calculate average time
    static void findavgTime(Process proc[], int n)
    {
        int wt[] = new int[n], tat[] = new int[n];
        int  total_wt = 0, total_tat = 0;
     
        // Function to find waiting time of all
        // processes
        findWaitingTime(proc, n, wt);
     
        // Function to find turn around time for
        // all processes
        findTurnAroundTime(proc, n, wt, tat);
     
        // Display processes along with all
        // details
        System.out.println(&quot;Processes &quot; +
                           &quot; Burst time &quot; +
                           &quot; Waiting time &quot; +
                           &quot; Turn around time&quot;);
     
        // Calculate total waiting time and
        // total turnaround time
        for (int i = 0; i &lt; n; i++) {
            total_wt = total_wt + wt[i];
            total_tat = total_tat + tat[i];
            System.out.println(&quot; &quot; + proc[i].pid + &quot;\t\t&quot;
                             + proc[i].bt + &quot;\t\t &quot; + wt[i]
                             + &quot;\t\t&quot; + tat[i]);
        }
     
        System.out.println(&quot;Average waiting time = &quot; +
                          (float)total_wt / (float)n);
        System.out.println(&quot;Average turn around time = &quot; +
                           (float)total_tat / (float)n);
    }
    
    // Driver Method
    public static void main(String[] args)
    {
         Process proc[] = { new Process(1, 6, 1), 
                            new Process(2, 8, 1),
                            new Process(3, 7, 2), 
                            new Process(4, 3, 3)};
        
         findavgTime(proc, proc.length);
    }
}
</pre><p></p></div></div><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()">&#x8F93;&#x51FA;&#xFF1A;</span> <p></p><pre> <span class="pre-span" style="direction: ltr; text-align: left">Processes Burst time Waiting time Turn around time</span>
 <span class="pre-span" style="direction: ltr; text-align: left">1 6 3 9</span>
 <span class="pre-span" style="direction: ltr; text-align: left">2 8 16 24</span>
 <span class="pre-span" style="direction: ltr; text-align: left">3 7 8 15</span>
 <span class="pre-span" style="direction: ltr; text-align: left">4 3 0 3</span>
<span class="pre-span" style="direction: ltr; text-align: left">Average waiting time = 6.75</span>
<span class="pre-span" style="direction: ltr; text-align: left">Average turn around time = 12.75</span>
</pre><br><!-- post_bottom_responsive --><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9465609616171866" data-ad-slot="8385097921" data-ad-format="auto"></ins><br><br><!-- .entry-meta --></div></body></html>